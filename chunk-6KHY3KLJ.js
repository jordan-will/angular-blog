import{$ as r,A as y,Aa as f,B as _,Ba as j,Ga as D,Ha as T,K as p,N as E,U as b,V as x,Z as M,_ as a,aa as u,ea as S,fa as k,ga as d,ja as w,ka as A,ma as l,na as C,ua as P,v,y as I,za as h}from"./chunk-SAK6RFBY.js";var c=class t{BASE64_PREFIX="data:image/jpg;base64,";pickImage(i){return new Promise((e,n)=>{let s=()=>{let m=i.files[0];if(!m){e(null);return}let o=new FileReader;o.onload=()=>{let N=o.result.split(",")[1];e(N)},o.onerror=g=>{console.log("Error on reading file ",g),e(null)},o.readAsDataURL(m)};i.addEventListener("change",s),i.click()})}get Base64Prefix(){return this.BASE64_PREFIX}static \u0275fac=function(e){return new(e||t)};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})};var L=["fileInput"],B=t=>({"background-image":t});function Q(t,i){if(t&1&&u(0,"div",2),t&2){let e=d();M("ngStyle",P(1,B,"url("+e.url()+")"))}}function V(t,i){if(t&1&&(a(0,"span",3),l(1),r()),t&2){let e=d();p(),C(e.typeMedia()==="avatar"?"person":"image")}}var F=class t{fileIput=j("fileInput");url=f();typeMedia=f("avatar");imagePicker=I(c);selectedImageEmitter=h();async onSelectImage(){let i=await this.imagePicker.pickImage(this.fileIput()?.nativeElement);i&&this.selectedImageEmitter.emit(this.imagePicker.Base64Prefix+i)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=E({type:t,selectors:[["app-avatar"]],viewQuery:function(e,n){e&1&&w(n.fileIput,L,5),e&2&&A()},inputs:{url:[1,"url"],typeMedia:[1,"typeMedia"]},outputs:{selectedImageEmitter:"selectedImageEmitter"},decls:10,vars:1,consts:[["fileInput",""],[1,"avatar"],[1,"avatar__image",3,"ngStyle"],[1,"material-icons"],[1,"avatar__actions"],["type","button",1,"btn","btn--clear",3,"click"],["hidden","","type","file","accept",".jpg,.png,.jpeg"]],template:function(e,n){if(e&1){let s=S();a(0,"div",1),b(1,Q,1,3,"div",2)(2,V,2,1,"span",3),a(3,"div",4)(4,"button",5),k("click",function(){return y(s),_(n.onSelectImage())}),a(5,"span",3),l(6,"image"),r(),l(7," image "),r(),u(8,"input",6,0),r()()}e&2&&(p(),x(n.url()?1:2))},dependencies:[T,D],encapsulation:2})};export{F as a};
