import{a as A}from"./chunk-2WLS6SHU.js";import{c as he}from"./chunk-A3PXOTSA.js";import{a as _e}from"./chunk-AT3UWOFJ.js";import{a as ge}from"./chunk-44IC75YN.js";import{$ as a,A as v,Aa as M,B as C,Ba as ce,D as te,E as T,Fa as le,Ga as O,Ha as L,Ja as pe,K as r,La as me,N as d,Na as de,Oa as b,Pa as ue,Qa as fe,Sa as E,U as p,V as m,W as F,X as N,Y as R,Z as u,_ as o,aa as f,ba as S,ca as x,da as H,ea as y,fa as h,ga as c,h as J,ha as ne,i as K,ia as V,ja as ie,ka as oe,la as re,m as X,ma as s,n as Y,na as g,o as ee,oa as z,ta as Z,ua as w,va as ae,wa as se,y as l,za as P}from"./chunk-SAK6RFBY.js";import"./chunk-DAQOROHW.js";var be=["*",[["","card-title",""]],[["","card-description",""]]],Ee=["*","[card-title]","[card-description]"],Ce=e=>({"background-image":e}),ke=()=>({"background-image":"images/land.jpg"}),Te=()=>({"background-image":"images/face.jpg"});function we(e,n){if(e&1&&f(0,"div",1),e&2){let t=c();u("ngStyle",w(1,Ce,"url("+t.cover()+")"))}}function Ie(e,n){e&1&&f(0,"div",1),e&2&&u("ngStyle",Z(1,ke))}function De(e,n){if(e&1&&f(0,"div",3),e&2){let t=c();u("ngStyle",w(1,Ce,"url("+t.authorAvatar()+")"))}}function Oe(e,n){e&1&&f(0,"div",3),e&2&&u("ngStyle",Z(1,Te))}var j=class e{cover=M();authorAvatar=M();static \u0275fac=function(t){return new(t||e)};static \u0275cmp=d({type:e,selectors:[["app-card-component"]],inputs:{cover:[1,"cover"],authorAvatar:[1,"authorAvatar"]},ngContentSelectors:Ee,decls:10,vars:2,consts:[[1,"card"],[1,"card__cover",3,"ngStyle"],[1,"card__author"],[1,"card__avatar",3,"ngStyle"],[1,"card__content"]],template:function(t,i){t&1&&(ne(be),o(0,"div",0),p(1,we,1,3,"div",1)(2,Ie,1,2,"div",1),o(3,"div",2),p(4,De,1,3,"div",3)(5,Oe,1,2,"div",3),V(6,0,["selector","[card-author]"]),a(),o(7,"div",4),V(8,1),V(9,2),a()()),t&2&&(r(),m(i.cover()?1:2),r(3),m(i.authorAvatar()?4:5))},dependencies:[L,O],encapsulation:2})};function Le(e,n){if(e&1){let t=y();o(0,"div",4),h("click",function(){let _=v(t).$implicit,k=c(2);return C(k.handlePost(_.id))}),o(1,"app-card-component",5)(2,"span",6),s(3),a(),o(4,"h2",7),s(5),a(),o(6,"p",8),s(7),a()()()}if(e&2){let t=n.$implicit;r(),u("authorAvatar",t.authorAvatar)("cover",t.cover),r(2),g(t.authorName),r(2),g(t.title),r(2),g(t.description)}}function Ae(e,n){e&1&&f(0,"div",3)}function Fe(e,n){e&1&&f(0,"div",3)(1,"div",3)}function Ne(e,n){if(e&1&&(N(0,Le,8,5,"div",2,F),p(2,Ae,1,0,"div",3),p(3,Fe,2,0)),e&2){let t=c();R(t.data()),r(2),m(t.data().length%2!==0?2:-1),r(),m(t.data().length%3!==0?3:-1)}}function Re(e,n){e&1&&(o(0,"div",1),s(1," No data found for your research "),a())}var B=class e{router=l(b);postService=l(_e);searchValue=l(A);data=T([]);ctrlData=T([]);ngOnInit(){K([this.postService.getPosts(),this.searchValue.search$]).subscribe(([n,t])=>{this.ctrlData.set(n),t?this.handleSearch(t):this.data.set(n)})}handleSearch(n){let t=this.ctrlData().filter(i=>i.title.toLocaleLowerCase().includes(n.toLocaleLowerCase())||i.description.toLocaleLowerCase().includes(n.toLocaleLowerCase()));this.data.set(t)}handlePost(n){this.router.navigate(["/post",n])}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=d({type:e,selectors:[["app-home"]],decls:3,vars:1,consts:[[1,"posts"],[1,"posts__msg"],[1,"posts__cards"],[1,"posts__cards","placeholder"],[1,"posts__cards",3,"click"],[3,"authorAvatar","cover"],["card-autthor",""],["card-title",""],["card-description",""]],template:function(t,i){t&1&&(o(0,"div",0),p(1,Ne,4,2)(2,Re,2,0,"div",1),a()),t&2&&(r(),m(i.data().length!==0?1:2))},dependencies:[j],encapsulation:2})};var Se=(e,n)=>{let t=l(E),i=l(b);return t.isLogged()?!0:i.parseUrl("/sign-in")};var xe=(e,n,t,i)=>e.canDeactivate?e.canDeactivate():!0;var ye=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:B,title:"Blogger"},{path:"my-stories",loadComponent:()=>import("./chunk-YTVCPUVR.js").then(e=>e.MyStories)},{path:"post/:id",loadComponent:()=>import("./chunk-IYWR6CSM.js").then(e=>e.Post),title:"Read"},{path:"editor",redirectTo:"/editor/null/null",pathMatch:"full"},{path:"editor/:idPostEdit/:idAuthorEdit",loadComponent:()=>import("./chunk-XQN2LQGA.js").then(e=>e.Editor),title:"Editor",canActivate:[Se],canDeactivate:[xe]},{path:"sign-up",loadComponent:()=>import("./chunk-KDFCPBZ2.js").then(e=>e.SignUpPage),title:"SignUp"},{path:"sign-in",loadComponent:()=>import("./chunk-73EI6CBQ.js").then(e=>e.SignInPage),title:"SignIn"}];var Me={providers:[te(),se(),fe(ye),he({modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image"]]},theme:"bubble"})]};var U=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=d({type:e,selectors:[["app-footer-component"]],decls:13,vars:0,consts:[[1,"footer"],[1,"footer__logo"],[1,"material-icons"],[1,"footer__socialmedia"],[1,"fab","fa-facebook-f"],[1,"fab","fa-twitter"],[1,"fab","fa-linkedin-in"],[1,"footer__copy"]],template:function(t,i){t&1&&(S(0,"div",0)(1,"div",1)(2,"span",2),s(3," chat "),x(),S(4,"span"),s(5,"Angular Blogger"),x()(),S(6,"div",3),H(7,"i",4)(8,"i",5)(9,"i",6),x(),S(10,"div",7)(11,"span"),s(12,"\xA9 Angular Blogger"),x()()())},encapsulation:2})};var He=["searchInput"],$=class e{searchService=l(A);searchInput=ce.required("searchInput");ngAfterViewInit(){X(this.searchInput().nativeElement,"input").pipe(J(n=>n.target.value),ee(300)).subscribe(n=>this.searchService.handleSearch(n))}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=d({type:e,selectors:[["app-header-search"]],viewQuery:function(t,i){t&1&&ie(i.searchInput,He,5),t&2&&oe()},decls:4,vars:0,consts:[["searchInput",""],[1,"form","form--header"],[1,"form__group"],["type","text","placeholder","Search by content","required",""]],template:function(t,i){t&1&&(S(0,"form",1)(1,"div",2),H(2,"input",3,0),x()())},encapsulation:2})};var Ve=e=>({"background-image":e});function Pe(e,n){if(e&1){let t=y();o(0,"li")(1,"span",2),h("click",function(){v(t);let _=c();return C(_.toogleSearch())}),s(2),a()()}if(e&2){let t=c();r(2),g(t.showSearchForm?"close":"search")}}function je(e,n){if(e&1){let t=y();o(0,"div",7),h("click",function(){v(t);let _=c();return C(_.toggleMenu("right"))}),a()}if(e&2){let t=c();u("ngStyle",w(1,Ve,"url("+t.user.profileImage+")"))}}function Be(e,n){if(e&1){let t=y();o(0,"span",2),h("click",function(){v(t);let _=c();return C(_.toggleMenu("right"))}),s(1,"person"),a()}}function Ue(e,n){e&1&&f(0,"app-header-search")}var G=class e{router=l(b);userService=l(E);searchService=l(A);user;showSearchForm=!1;isLogged=!1;sideMenu=P();showSearchBtn=!1;ngOnInit(){this.userService.user$.subscribe(n=>{this.isLogged=n!==null,this.user=n}),this.listenShowSearch()}toggleMenu(n){this.sideMenu.emit(n)}toogleSearch(){this.showSearchForm=!this.showSearchForm,this.showSearchForm||this.searchService.handleSearch(null)}listenShowSearch(){this.router.events.pipe(Y(n=>n instanceof me)).subscribe(n=>{let t=["/home","/my-stories"];this.showSearchBtn=t.some(i=>n.urlAfterRedirects.startsWith(i))})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=d({type:e,selectors:[["app-header-component"]],outputs:{sideMenu:"sideMenu"},decls:13,vars:5,consts:[[1,"header"],[1,"header__logo"],[1,"material-icons",3,"click"],["routerLink","/home",1,"header__title"],[1,"header__nav"],[1,"header__avatar",3,"ngStyle"],[1,"material-icons"],[1,"header__avatar",3,"click","ngStyle"]],template:function(t,i){t&1&&(o(0,"div",0)(1,"div",1)(2,"span",2),h("click",function(){return i.toggleMenu("left")}),s(3," menu "),a(),o(4,"span",3),s(5,"Angular Blogger"),a()(),o(6,"div",4)(7,"ul"),p(8,Pe,3,1,"li"),o(9,"li"),p(10,je,1,3,"div",5)(11,Be,2,0,"span",6),a()()()(),p(12,Ue,1,0,"app-header-search")),t&2&&(r(2),re("header__hidden",!i.isLogged),r(6),m(i.showSearchBtn?8:-1),r(2),m(i.user?10:11),r(2),m(i.showSearchForm?12:-1))},dependencies:[L,O,$,ue],encapsulation:2})};var $e=(e,n,t)=>({sidemenu:!0,sidemenuopen:e,"sidemenu--right":n,"sidemenu--left":t}),Ge=e=>({"background-image":e});function qe(e,n){if(e&1&&(o(0,"div",1),f(1,"div",2),o(2,"div",3)(3,"p"),s(4),a(),o(5,"span"),s(6),a()()()),e&2){let t=c(2);r(),u("ngStyle",w(3,Ge,"url("+t.user.profileImage+")")),r(3),g(t.user.name),r(2),g(t.user.email)}}function Qe(e,n){if(e&1&&p(0,qe,7,5,"div",1),e&2){let t=c();m(t.user?0:-1)}}function We(e,n){if(e&1){let t=y();o(0,"li",5),h("click",function(){let _=v(t).$implicit,k=c(2);return C(k.handleRouter(_.url))}),o(1,"span",6),s(2),a(),s(3),a()}if(e&2){let t=n.$implicit;r(2),g(t.icon),r(),z(" ",t.label," ")}}function ze(e,n){if(e&1&&N(0,We,4,2,"li",4,F),e&2){let t=c();R(t.navLinks)}}function Ze(e,n){if(e&1){let t=y();o(0,"li",5),h("click",function(){let _=v(t).$implicit,k=c(2);return C(k.handleRouter(_.url))}),o(1,"span",6),s(2),a(),s(3),a()}if(e&2){let t=n.$implicit;r(2),g(t.icon),r(),z(" ",t.label," ")}}function Je(e,n){if(e&1&&N(0,Ze,4,2,"li",4,F),e&2){let t=c();R(t.sessionLinks())}}var q=class e{router=l(b);userService=l(E);clickedEvent=P();user;navLinks=[{label:"Home",url:"/home",icon:"home"},{label:"Write",url:"/editor",icon:"edit"},{label:"Stories",url:"/my-stories",icon:"book"}];sessionLinks=T([]);isOpenLeft=M(!1);isOpenRight=M(!1);typeMenu=M("right");ngOnInit(){this.userService.user$.subscribe(n=>{this.user=n||null,this.handleSessionMenu()})}handleRouter(n){if(n==="sign_out"){this.clickedEvent.emit(),this.userService.logOut();return}this.router.navigate([n]),this.clickedEvent.emit()}handleSessionMenu(){this.user?this.sessionLinks.set([{label:"Logout",url:"sign_out",icon:"logout"}]):this.sessionLinks.set([{label:"Login",url:"/sign-in",icon:"login"}])}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=d({type:e,selectors:[["app-sidemenu-component"]],inputs:{isOpenLeft:[1,"isOpenLeft"],isOpenRight:[1,"isOpenRight"],typeMenu:[1,"typeMenu"]},outputs:{clickedEvent:"clickedEvent"},decls:5,vars:7,consts:[[1,"sidemenu",3,"ngClass"],[1,"sidemenu__user"],[1,"sidemenu__avatar",3,"ngStyle"],[1,"sidemenu__info"],[1,"sidemenu__item"],[1,"sidemenu__item",3,"click"],[1,"material-icons"]],template:function(t,i){t&1&&(o(0,"div",0),p(1,Qe,1,1),o(2,"ul"),p(3,ze,2,0)(4,Je,2,0),a()()),t&2&&(u("ngClass",ae(3,$e,i.isOpenLeft()||i.isOpenRight(),i.typeMenu()=="right",i.typeMenu()=="left")),r(),m(i.typeMenu()=="right"?1:-1),r(2),m(i.typeMenu()=="left"?3:4))},dependencies:[L,le,O],encapsulation:2})};var Q=class e{message=M();static \u0275fac=function(t){return new(t||e)};static \u0275cmp=d({type:e,selectors:[["app-toast-component"]],inputs:{message:[1,"message"]},decls:3,vars:1,consts:[[1,"toast"]],template:function(t,i){t&1&&(S(0,"div",0)(1,"span"),s(2),x()()),t&2&&(r(2),g(i.message()))},encapsulation:2})};function Ke(e,n){if(e&1&&f(0,"app-toast-component",0),e&2){let t=c();u("message",t.message())}}var W=class e{userService=l(E);notificationService=l(ge);message=T(null);title="Angular Blog";isMenuOpenLeft=!1;isMenuOpenRight=!1;ngOnInit(){this.userService.getUserFromSession(),this.notificationService.notification$.subscribe(n=>{this.message.set(n),setTimeout(()=>{this.notificationService.toast(null),this.message.set(null)},2e3)})}onToggleMenu(n){n=="left"&&(this.isMenuOpenLeft=!this.isMenuOpenLeft,this.isMenuOpenRight=!1),n=="right"&&(this.isMenuOpenRight=!this.isMenuOpenRight,this.isMenuOpenLeft=!1)}menuClicked(){this.isMenuOpenRight=!1,this.isMenuOpenLeft=!1}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=d({type:e,selectors:[["app-root"]],decls:8,vars:5,consts:[[3,"message"],[1,"layout"],[3,"sideMenu"],[3,"clickedEvent","isOpenLeft","typeMenu"],[3,"clickedEvent","isOpenRight","typeMenu"],[1,"content"]],template:function(t,i){t&1&&(p(0,Ke,1,1,"app-toast-component",0),o(1,"div",1)(2,"app-header-component",2),h("sideMenu",function(k){return i.onToggleMenu(k)}),a(),o(3,"app-sidemenu-component",3),h("clickedEvent",function(){return i.menuClicked()}),a(),o(4,"app-sidemenu-component",4),h("clickedEvent",function(){return i.menuClicked()}),a(),o(5,"main",5),f(6,"router-outlet"),a(),f(7,"app-footer-component"),a()),t&2&&(m(i.message()?0:-1),r(3),u("isOpenLeft",i.isMenuOpenLeft)("typeMenu","left"),r(),u("isOpenRight",i.isMenuOpenRight)("typeMenu","right"))},dependencies:[de,G,q,U,Q],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.content[_ngcontent-%COMP%]{flex:1;padding-top:2rem}"]})};pe(W,Me).catch(e=>console.error(e));
